-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 19-08-2023 a las 07:15:48
-- Versión del servidor: 10.4.28-MariaDB
-- Versión de PHP: 8.2.4

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `mydata`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `accessandusers`
--

CREATE TABLE `accessandusers` (
  `Date` date NOT NULL,
  `Count` bigint(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `accessandusers`
--

INSERT INTO `accessandusers` (`Date`, `Count`) VALUES
('2023-02-01', 3454884),
('2023-02-02', 3389436),
('2023-02-03', 2986689),
('2023-02-04', 1143450),
('2023-02-05', 1159218),
('2023-02-06', 3902043),
('2023-02-07', 4920792),
('2023-02-08', 4077244),
('2023-02-09', 3376441),
('2023-02-10', 3078619),
('2023-02-11', 1267863),
('2023-02-12', 1284854),
('2023-02-13', 3337485),
('2023-02-14', 3543451),
('2023-02-15', 3460323),
('2023-02-16', 3403799),
('2023-02-17', 3102663),
('2023-02-18', 1408292),
('2023-02-19', 1347550),
('2023-02-20', 3412900),
('2023-02-21', 3506724),
('2023-02-22', 3513451),
('2023-02-23', 3584033),
('2023-02-24', 3205641),
('2023-02-25', 1353721),
('2023-02-26', 1369909),
('2023-02-27', 3575472),
('2023-02-28', 3482428),
('2023-03-01', 3700709),
('2023-03-02', 3801700),
('2023-03-03', 3253504),
('2023-03-04', 1263368),
('2023-03-05', 1234514),
('2023-03-06', 3988493),
('2023-03-07', 4304682),
('2023-03-08', 4281916),
('2023-03-09', 3943039),
('2023-03-10', 3342748),
('2023-03-11', 1365487),
('2023-03-12', 1391906),
('2023-03-13', 3587066),
('2023-03-14', 3837823),
('2023-03-15', 3799055),
('2023-03-16', 3749974),
('2023-03-17', 3336232),
('2023-03-18', 1430554),
('2023-03-19', 1455061),
('2023-03-20', 3547836),
('2023-03-21', 4312336),
('2023-03-22', 4299911),
('2023-03-23', 4414812),
('2023-03-24', 3564047),
('2023-03-25', 1510722),
('2023-03-26', 1405269),
('2023-03-27', 3808807),
('2023-03-28', 4039591),
('2023-03-29', 3959825),
('2023-03-30', 3974262),
('2023-03-31', 3537066);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `applications`
--

CREATE TABLE `applications` (
  `Date` date NOT NULL,
  `Count` bigint(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `applications`
--

INSERT INTO `applications` (`Date`, `Count`) VALUES
('2023-02-01', 1128933),
('2023-02-02', 1090998),
('2023-02-03', 1048803),
('2023-02-04', 667547),
('2023-02-05', 674757),
('2023-02-06', 1955959),
('2023-02-07', 2850235),
('2023-02-08', 2030458),
('2023-02-09', 1126427),
('2023-02-10', 1080666),
('2023-02-11', 700506),
('2023-02-12', 690695),
('2023-02-13', 1130387),
('2023-02-14', 1156048),
('2023-02-15', 1141624),
('2023-02-16', 1105843),
('2023-02-17', 1048934),
('2023-02-18', 721503),
('2023-02-19', 702898),
('2023-02-20', 1078496),
('2023-02-21', 1085904),
('2023-02-22', 1097241),
('2023-02-23', 1102752),
('2023-02-24', 1029968),
('2023-02-25', 688139),
('2023-02-26', 675490),
('2023-02-27', 1050005),
('2023-02-28', 1032052),
('2023-03-01', 1073952),
('2023-03-02', 1074784),
('2023-03-03', 1005637),
('2023-03-04', 690620),
('2023-03-05', 679130),
('2023-03-06', 1742707),
('2023-03-07', 1984238),
('2023-03-08', 1897241),
('2023-03-09', 1055056),
('2023-03-10', 1025900),
('2023-03-11', 715626),
('2023-03-12', 710038),
('2023-03-13', 1089489),
('2023-03-14', 1100757),
('2023-03-15', 1102791),
('2023-03-16', 1079262),
('2023-03-17', 1001973),
('2023-03-18', 690238),
('2023-03-19', 686489),
('2023-03-20', 1037506),
('2023-03-21', 1092216),
('2023-03-22', 1169726),
('2023-03-23', 1187088),
('2023-03-24', 1012014),
('2023-03-25', 717017),
('2023-03-26', 674491),
('2023-03-27', 1058352),
('2023-03-28', 1077713),
('2023-03-29', 1099417),
('2023-03-30', 1103860),
('2023-03-31', 1035438);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `communications`
--

CREATE TABLE `communications` (
  `Date` date NOT NULL,
  `Count` bigint(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `communications`
--

INSERT INTO `communications` (`Date`, `Count`) VALUES
('2023-02-01', 3486828),
('2023-02-02', 4717095),
('2023-02-03', 2969133),
('2023-02-04', 1415657),
('2023-02-05', 1389607),
('2023-02-06', 3303761),
('2023-02-07', 3491650),
('2023-02-08', 3446069),
('2023-02-09', 3298099),
('2023-02-10', 3120732),
('2023-02-11', 4312821),
('2023-02-12', 4673806),
('2023-02-13', 3398766),
('2023-02-14', 3492942),
('2023-02-15', 3492886),
('2023-02-16', 3427236),
('2023-02-17', 3222763),
('2023-02-18', 1759465),
('2023-02-19', 1668580),
('2023-02-20', 3538620),
('2023-02-21', 3651801),
('2023-02-22', 3702299),
('2023-02-23', 3651982),
('2023-02-24', 3387526),
('2023-02-25', 1802098),
('2023-02-26', 1823600),
('2023-02-27', 3820190),
('2023-02-28', 3762862),
('2023-03-01', 4043158),
('2023-03-02', 4092493),
('2023-03-03', 3486031),
('2023-03-04', 1586841),
('2023-03-05', 1520042),
('2023-03-06', 3562024),
('2023-03-07', 3798095),
('2023-03-08', 3896869),
('2023-03-09', 4251444),
('2023-03-10', 3632567),
('2023-03-11', 1786515),
('2023-03-12', 1786176),
('2023-03-13', 3782888),
('2023-03-14', 4038288),
('2023-03-15', 4012144),
('2023-03-16', 3884035),
('2023-03-17', 3576700),
('2023-03-18', 1854865),
('2023-03-19', 1837218),
('2023-03-20', 3750154),
('2023-03-21', 4561714),
('2023-03-22', 4529009),
('2023-03-23', 5272336),
('2023-03-24', 3917872),
('2023-03-25', 1997423),
('2023-03-26', 1856308),
('2023-03-27', 4189976),
('2023-03-28', 4431796),
('2023-03-29', 4273531),
('2023-03-30', 4157144),
('2023-03-31', 3868732);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `malware`
--

CREATE TABLE `malware` (
  `date` date NOT NULL,
  `Count` bigint(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `malware`
--

INSERT INTO `malware` (`date`, `Count`) VALUES
('2023-02-01', 1399),
('2023-02-02', 1368),
('2023-02-03', 1487),
('2023-02-04', 1042),
('2023-02-05', 1114),
('2023-02-06', 991),
('2023-02-07', 1522),
('2023-02-08', 1373),
('2023-02-09', 1329),
('2023-02-10', 1252),
('2023-02-11', 2664),
('2023-02-12', 3016),
('2023-02-13', 1459),
('2023-02-14', 1352),
('2023-02-15', 1354),
('2023-02-16', 1407),
('2023-02-17', 1321),
('2023-02-18', 1014),
('2023-02-19', 1086),
('2023-02-20', 1586),
('2023-02-21', 1350),
('2023-02-22', 1652),
('2023-02-23', 1845),
('2023-02-24', 1271),
('2023-02-25', 1037),
('2023-02-26', 1038),
('2023-02-27', 1794),
('2023-02-28', 1505),
('2023-03-01', 954),
('2023-03-02', 1491),
('2023-03-03', 1311),
('2023-03-04', 1011),
('2023-03-05', 1084),
('2023-03-06', 1476),
('2023-03-07', 1284),
('2023-03-08', 2642),
('2023-03-09', 2538),
('2023-03-10', 1268),
('2023-03-11', 1029),
('2023-03-12', 1065),
('2023-03-13', 1483),
('2023-03-14', 1530),
('2023-03-15', 1315),
('2023-03-16', 1404),
('2023-03-17', 1307),
('2023-03-18', 1025),
('2023-03-19', 1098),
('2023-03-20', 1466),
('2023-03-21', 1284),
('2023-03-22', 1477),
('2023-03-23', 3104),
('2023-03-24', 1257),
('2023-03-25', 1033),
('2023-03-26', 1083),
('2023-03-27', 1753),
('2023-03-28', 2351),
('2023-03-29', 1353),
('2023-03-30', 1362),
('2023-03-31', 1322);

-- --------------------------------------------------------

--
-- Estructura Stand-in para la vista `probabilidades`
-- (Véase abajo para la vista actual)
--
CREATE TABLE `probabilidades` (
`dimension` varchar(17)
,`px` decimal(45,4)
);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `systems`
--

CREATE TABLE `systems` (
  `Date` date NOT NULL,
  `Count` bigint(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `systems`
--

INSERT INTO `systems` (`Date`, `Count`) VALUES
('2023-02-01', 4930997),
('2023-02-02', 6147710),
('2023-02-03', 4317199),
('2023-02-04', 2389447),
('2023-02-05', 2464345),
('2023-02-06', 4792739),
('2023-02-07', 5070926),
('2023-02-08', 4954532),
('2023-02-09', 4830419),
('2023-02-10', 4561847),
('2023-02-11', 5374868),
('2023-02-12', 5764460),
('2023-02-13', 4887009),
('2023-02-14', 5065189),
('2023-02-15', 4992634),
('2023-02-16', 4933955),
('2023-02-17', 4628788),
('2023-02-18', 2841159),
('2023-02-19', 2774812),
('2023-02-20', 4976214),
('2023-02-21', 5165310),
('2023-02-22', 5158880),
('2023-02-23', 5156908),
('2023-02-24', 4775529),
('2023-02-25', 2850617),
('2023-02-26', 2901957),
('2023-02-27', 5231726),
('2023-02-28', 5227147),
('2023-03-01', 5477158),
('2023-03-02', 5572880),
('2023-03-03', 4853189),
('2023-03-04', 2640570),
('2023-03-05', 2605255),
('2023-03-06', 4962203),
('2023-03-07', 5301001),
('2023-03-08', 5375621),
('2023-03-09', 5724809),
('2023-03-10', 5020123),
('2023-03-11', 2866517),
('2023-03-12', 2908607),
('2023-03-13', 5257209),
('2023-03-14', 5550662),
('2023-03-15', 5482654),
('2023-03-16', 5411878),
('2023-03-17', 4943345),
('2023-03-18', 2905846),
('2023-03-19', 2928353),
('2023-03-20', 5146484),
('2023-03-21', 6082714),
('2023-03-22', 6073340),
('2023-03-23', 6875873),
('2023-03-24', 5303163),
('2023-03-25', 3087963),
('2023-03-26', 2932924),
('2023-03-27', 5619651),
('2023-03-28', 5949974),
('2023-03-29', 5749684),
('2023-03-30', 5678975),
('2023-03-31', 5277712);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `totals`
--

CREATE TABLE `totals` (
  `Date` date NOT NULL,
  `Count` bigint(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `totals`
--

INSERT INTO `totals` (`Date`, `Count`) VALUES
('2023-02-01', 7914291),
('2023-02-02', 9019899),
('2023-02-03', 6964298),
('2023-02-04', 3625335),
('2023-02-05', 3679213),
('2023-02-06', 8577291),
('2023-02-07', 9836619),
('2023-02-08', 8892438),
('2023-02-09', 7776128),
('2023-02-10', 7327210),
('2023-02-11', 6736993),
('2023-02-12', 7125412),
('2023-02-13', 7862950),
('2023-02-14', 8097243),
('2023-02-15', 8022605),
('2023-02-16', 7892092),
('2023-02-17', 7343026),
('2023-02-18', 4311831),
('2023-02-19', 4181722),
('2023-02-20', 7881044),
('2023-02-21', 8192057),
('2023-02-22', 8216866),
('2023-02-23', 8250640),
('2023-02-24', 7602023),
('2023-02-25', 4294341),
('2023-02-26', 4322817),
('2023-02-27', 8482887),
('2023-02-28', 8190292),
('2023-03-01', 8653284),
('2023-03-02', 8800247),
('2023-03-03', 7675805),
('2023-03-04', 3979691),
('2023-03-05', 3892719),
('2023-03-06', 8575366),
('2023-03-07', 9299111),
('2023-03-08', 9326529),
('2023-03-09', 9007475),
('2023-03-10', 7913410),
('2023-03-11', 4312166),
('2023-03-12', 4325516),
('2023-03-13', 8307318),
('2023-03-14', 8754738),
('2023-03-15', 8706047),
('2023-03-16', 8527693),
('2023-03-17', 7849446),
('2023-03-18', 4417011),
('2023-03-19', 4434520),
('2023-03-20', 8243828),
('2023-03-21', 9647309),
('2023-03-22', 9672258),
('2023-03-23', 10572819),
('2023-03-24', 8397416),
('2023-03-25', 4682442),
('2023-03-26', 4351751),
('2023-03-27', 8865979),
('2023-03-28', 9376073),
('2023-03-29', 9115188),
('2023-03-30', 8998155),
('2023-03-31', 8324094);

-- --------------------------------------------------------

--
-- Estructura para la vista `probabilidades`
--
DROP TABLE IF EXISTS `probabilidades`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `probabilidades`  AS SELECT 'px_sistemas' AS `dimension`, sum(`systems`.`Count`) / sum(`totals`.`Count`) AS `px` FROM (`systems` join `totals`)union select 'px_comunicaciones' AS `px_comunicaciones`,sum(`communications`.`Count`) / sum(`totals`.`Count`) AS `sum(communications.count)/sum(totals.count)` from (`communications` join `totals`) union select 'px_accessandusers' AS `px_accessandusers`,sum(`accessandusers`.`Count`) / sum(`totals`.`Count`) AS `sum(accessandusers.count)/sum(totals.count)` from (`accessandusers` join `totals`) union select 'px_aplicaciones' AS `px_aplicaciones`,sum(`applications`.`Count`) / sum(`totals`.`Count`) AS `sum(applications.count)/sum(totals.count)` from (`applications` join `totals`) union select 'px_malware' AS `px_malware`,sum(`malware`.`Count`) / sum(`totals`.`Count`) AS `sum(malware.count)/sum(totals.count)` from (`malware` join `totals`)  ;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
